import React, { useEffect, useState } from 'react';
import { Link } from 'react-router-dom';

function Header() {
    const [isHeaderVisible, setIsHeaderVisible] = useState(true);
    const [prevScrollPos, setPrevScrollPos] = useState(0);
    const [scrolled, setScrolled] = useState(false);

    useEffect(() => {
        const handleScroll = () => {

            const currentScrollPos = window.pageYOffset;
            setPrevScrollPos(currentScrollPos);

            // Check if the user has scrolled 100px from the top
            if (currentScrollPos > 100) {
                setScrolled(true);
            } else {
                setScrolled(false);
            }

            // Check if the user is scrolling up or down
            const isScrollingDown = currentScrollPos > prevScrollPos;

            // Update the scroll direction
            if (isScrollingDown && isHeaderVisible) {
                setIsHeaderVisible(false);
            } else if (!isScrollingDown && !isHeaderVisible) {
                setIsHeaderVisible(true);
            }

            // Update the previous scroll position
            setPrevScrollPos(currentScrollPos);
        };

        // Add a scroll event listener
        window.addEventListener('scroll', handleScroll);

        // Clean up the event listener on unmount
        return () => {
            window.removeEventListener('scroll', handleScroll);
        };
    }, [isHeaderVisible, prevScrollPos]);
    return (
        <header
            id="header"
            className={scrolled ? 'scrolled' : ''}
            style={{ top: isHeaderVisible ? '0px' : '-100px' }}
        >
            <img src="assets/img/logo.png" alt="" className="logo_thumbnail" />
            <nav>
                <Link to="#" className="active">
                    Home
                </Link>
                <Link to="/shop">Shop</Link>
                <a href="">About</a>
                <a href="">Blogs</a>
                <a href="" className="a_highlighted">
                    <div className="back_light" />
                    <span>
                        Let's Talk
                        <svg
                            width={20}
                            height={20}
                            viewBox="0 0 20 20"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <path
                                fillRule="evenodd"
                                clipRule="evenodd"
                                d="M3.49865 3.82031L9.67698 9.99865L3.49865 16.177L2.32031 14.9986L7.32031 9.99865L2.32031 4.99865L3.49865 3.82031Z"
                                fill="#0D0D0D"
                            />
                        </svg>
                    </span>
                </a>
            </nav>
            <nav>
                <a href="auth.html" className="login">
                    <svg
                        width={12}
                        height={12}
                        viewBox="0 0 12 12"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <g clipPath="url(#clip0_1853_1589)">
                            <path
                                d="M6 6C6.79565 6 7.55871 5.68393 8.12132 5.12132C8.68393 4.55871 9 3.79565 9 3C9 2.20435 8.68393 1.44129 8.12132 0.87868C7.55871 0.316071 6.79565 0 6 0C5.20435 0 4.44129 0.316071 3.87868 0.87868C3.31607 1.44129 3 2.20435 3 3C3 3.79565 3.31607 4.55871 3.87868 5.12132C4.44129 5.68393 5.20435 6 6 6V6ZM8 3C8 3.53043 7.78929 4.03914 7.41421 4.41421C7.03914 4.78929 6.53043 5 6 5C5.46957 5 4.96086 4.78929 4.58579 4.41421C4.21071 4.03914 4 3.53043 4 3C4 2.46957 4.21071 1.96086 4.58579 1.58579C4.96086 1.21071 5.46957 1 6 1C6.53043 1 7.03914 1.21071 7.41421 1.58579C7.78929 1.96086 8 2.46957 8 3V3ZM12 11C12 12 11 12 11 12H1C1 12 0 12 0 11C0 10 1 7 6 7C11 7 12 10 12 11ZM11 10.996C10.999 10.75 10.846 10.01 10.168 9.332C9.516 8.68 8.289 8 6 8C3.71 8 2.484 8.68 1.832 9.332C1.154 10.01 1.002 10.75 1 10.996H11Z"
                                fill="#0D0D0D"
                            />
                        </g>
                        <defs>
                            <clipPath id="clip0_1853_1589">
                                <rect width={12} height={12} fill="white" />
                            </clipPath>
                        </defs>
                    </svg>
                    Login / Register
                </a>
                <a href="">
                    <svg
                        width={16}
                        height={16}
                        viewBox="0 0 16 16"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <g clipPath="url(#clip0_1853_1595)">
                            <path
                                d="M11.7429 10.3421C12.7112 9.02083 13.1449 7.38264 12.9572 5.7553C12.7695 4.12796 11.9743 2.63149 10.7307 1.56528C9.48701 0.499068 7.88665 -0.0582491 6.24973 0.00482408C4.61282 0.0678972 3.06008 0.746709 1.90217 1.90545C0.744249 3.0642 0.0665484 4.61742 0.00464653 6.25438C-0.0572553 7.89134 0.501207 9.49131 1.56831 10.7342C2.6354 11.9771 4.13244 12.7712 5.75992 12.9577C7.38739 13.1442 9.02528 12.7094 10.3459 11.7401H10.3449C10.3749 11.7801 10.4069 11.8181 10.4429 11.8551L14.2929 15.7051C14.4804 15.8928 14.7348 15.9983 15 15.9983C15.2653 15.9984 15.5198 15.8932 15.7074 15.7056C15.895 15.5181 16.0005 15.2638 16.0006 14.9985C16.0007 14.7332 15.8954 14.4788 15.7079 14.2911L11.8579 10.4411C11.8221 10.405 11.7837 10.3715 11.7429 10.3411V10.3421ZM12.0009 6.49815C12.0009 7.22042 11.8586 7.93562 11.5822 8.60291C11.3058 9.2702 10.9007 9.87651 10.39 10.3872C9.87926 10.898 9.27295 11.3031 8.60566 11.5795C7.93837 11.8559 7.22317 11.9981 6.5009 11.9981C5.77863 11.9981 5.06343 11.8559 4.39614 11.5795C3.72885 11.3031 3.12253 10.898 2.61181 10.3872C2.10109 9.87651 1.69596 9.2702 1.41956 8.60291C1.14316 7.93562 1.0009 7.22042 1.0009 6.49815C1.0009 5.03946 1.58036 3.64051 2.61181 2.60906C3.64326 1.57761 5.04221 0.998147 6.5009 0.998147C7.95959 0.998147 9.35854 1.57761 10.39 2.60906C11.4214 3.64051 12.0009 5.03946 12.0009 6.49815V6.49815Z"
                                fill="#0D0D0D"
                            />
                        </g>
                        <defs>
                            <clipPath id="clip0_1853_1595">
                                <rect width="16.0006" height="16.0003" fill="white" />
                            </clipPath>
                        </defs>
                    </svg>
                </a>
                <a href="">
                    <svg
                        width={16}
                        height={16}
                        viewBox="0 0 16 16"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M0 1.5C0 1.36739 0.0526784 1.24021 0.146447 1.14645C0.240215 1.05268 0.367392 1 0.5 1H2C2.11153 1.00003 2.21985 1.03735 2.30773 1.10602C2.39561 1.1747 2.45801 1.27078 2.485 1.379L2.89 3H14.5C14.5734 3.00007 14.6459 3.0163 14.7124 3.04755C14.7788 3.0788 14.8375 3.12429 14.8844 3.1808C14.9313 3.23731 14.9651 3.30345 14.9835 3.37452C15.002 3.44558 15.0045 3.51984 14.991 3.592L13.491 11.592C13.4696 11.7066 13.4087 11.8101 13.3191 11.8846C13.2294 11.9591 13.1166 11.9999 13 12H4C3.88343 11.9999 3.77057 11.9591 3.68091 11.8846C3.59126 11.8101 3.53045 11.7066 3.509 11.592L2.01 3.607L1.61 2H0.5C0.367392 2 0.240215 1.94732 0.146447 1.85355C0.0526784 1.75979 0 1.63261 0 1.5ZM3.102 4L4.415 11H12.585L13.898 4H3.102ZM5 12C4.46957 12 3.96086 12.2107 3.58579 12.5858C3.21071 12.9609 3 13.4696 3 14C3 14.5304 3.21071 15.0391 3.58579 15.4142C3.96086 15.7893 4.46957 16 5 16C5.53043 16 6.03914 15.7893 6.41421 15.4142C6.78929 15.0391 7 14.5304 7 14C7 13.4696 6.78929 12.9609 6.41421 12.5858C6.03914 12.2107 5.53043 12 5 12ZM12 12C11.4696 12 10.9609 12.2107 10.5858 12.5858C10.2107 12.9609 10 13.4696 10 14C10 14.5304 10.2107 15.0391 10.5858 15.4142C10.9609 15.7893 11.4696 16 12 16C12.5304 16 13.0391 15.7893 13.4142 15.4142C13.7893 15.0391 14 14.5304 14 14C14 13.4696 13.7893 12.9609 13.4142 12.5858C13.0391 12.2107 12.5304 12 12 12ZM5 13C5.26522 13 5.51957 13.1054 5.70711 13.2929C5.89464 13.4804 6 13.7348 6 14C6 14.2652 5.89464 14.5196 5.70711 14.7071C5.51957 14.8946 5.26522 15 5 15C4.73478 15 4.48043 14.8946 4.29289 14.7071C4.10536 14.5196 4 14.2652 4 14C4 13.7348 4.10536 13.4804 4.29289 13.2929C4.48043 13.1054 4.73478 13 5 13ZM12 13C12.2652 13 12.5196 13.1054 12.7071 13.2929C12.8946 13.4804 13 13.7348 13 14C13 14.2652 12.8946 14.5196 12.7071 14.7071C12.5196 14.8946 12.2652 15 12 15C11.7348 15 11.4804 14.8946 11.2929 14.7071C11.1054 14.5196 11 14.2652 11 14C11 13.7348 11.1054 13.4804 11.2929 13.2929C11.4804 13.1054 11.7348 13 12 13V13Z"
                            fill="#0D0D0D"
                        />
                    </svg>
                    1
                </a>
                <a href="">
                    <svg
                        width={16}
                        height={16}
                        viewBox="0 0 16 16"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M7.9999 2.74805L7.2829 2.01105C5.5999 0.281049 2.51389 0.878049 1.39989 3.05305C0.876895 4.07605 0.758895 5.55305 1.71389 7.43805C2.63389 9.25305 4.5479 11.427 7.9999 13.795C11.4519 11.427 13.3649 9.25305 14.2859 7.43805C15.2409 5.55205 15.1239 4.07605 14.5999 3.05305C13.4859 0.878049 10.3999 0.280049 8.7169 2.01005L7.9999 2.74805ZM7.9999 15C-7.33311 4.86805 3.27889 -3.03995 7.82389 1.14305C7.88389 1.19805 7.9429 1.25505 7.9999 1.31405C8.05632 1.2551 8.11503 1.19839 8.17589 1.14405C12.7199 -3.04195 23.3329 4.86705 7.9999 15Z"
                            fill="#0D0D0D"
                        />
                    </svg>
                    1
                </a>
            </nav>
        </header>
    );
}

export default Header;
